前端监控系统会收到很多来自用户端的请求，如果直接存入数据库很容易把数据库服务搞挂掉，所以一般会加一个 `RabbitMQ` 来缓冲。

它是生产者往 `queue` 里放入消息，消费者从里面读消息，之后确认消息收到的流程。

当一对多的时候，还要加一个 `Exchange` 交换机来根据不同的规则转发消息：

- `direct` 交换机：根据 `routing key` 转发消息到队列
- `topic` 交换机：根据 `routing key` 转发消息到队列，支持模糊匹配
- `headers` 交换机：根据 `headers` 转发消息到队列
- `fanout` 交换机：广播消息到交换机下的所有队列
而且消费者可以设置一个消费的并发上限，这样就可以保证服务不会因并发过高而崩溃。

这就是流量削峰的功能。

`RabbitMQ` 在后端系统中经常能见到，是很常用的中间件。